<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AWB Köln – Monatskalender Frohnhof</title>
<style>
  :root{--bg:#f9fafb;--fg:#111827;--muted:#6b7280;--border:#e5e7eb}
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:1rem;background:var(--bg);color:var(--fg)}
  h2{margin:.2rem 0 .4rem 0;font-size:1.2rem}
  .sub{color:var(--muted);font-size:.85rem;margin-bottom:1rem}

  .cal{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
  .dow{font-weight:600;font-size:.9rem;color:var(--muted);text-align:center;margin-bottom:.3rem}
  .cell{background:#fff;border:1px solid var(--border);border-radius:10px;min-height:110px;padding:.5rem;display:flex;flex-direction:column;gap:.4rem}
  .cell.out{opacity:.45}
  .day{font-size:.9rem;font-weight:600}
  .icons{display:flex;flex-wrap:wrap;gap:6px}
  .icon{width:30px;height:30px;display:inline-block}
  .today{outline:2px solid #111827;outline-offset:2px}
  .blink svg{animation:blink 1s infinite alternate}
  @keyframes blink{0%{opacity:1}100%{opacity:.35}}

  .legend{margin-top:12px;display:flex;flex-wrap:wrap;gap:12px;font-size:.85rem;color:var(--muted)}
  .dot{width:12px;height:12px;border-radius:2px;display:inline-block;margin-right:6px;vertical-align:middle}

  .list{margin-top:16px}
  .card{display:flex;align-items:center;gap:12px;margin:.5rem 0;padding:.7rem;border:1px solid var(--border);border-radius:10px;background:#fff}
  .card.heute{border:2px solid #111827}
  .stack{display:flex;flex-direction:column;line-height:1.15}
  .label{font-weight:600}
  .subline{font-size:.8rem;color:var(--muted)}
  .date{font-size:.85rem;color:var(--muted);margin-top:2px}

  .muted{color:var(--muted);font-size:.85rem}
</style>
</head>
<body>
<h2>Abfuhrtermine (Monatskalender)</h2>
<div class="sub" id="subtitle"></div>

<div class="cal" id="header"></div>
<div class="cal" id="grid"></div>

<div class="legend" id="legend"></div>

<h3 class="list">Nächste Abholung</h3>
<div id="upcoming"></div>

<div class="muted" style="margin-top:8px">Quelle: lokale Kopie <code>awb.ics</code></div>

<script>
const ICS_PATH = "./awb.ics";

const LABELS={
  Restmüll:{top:"Schwarze Tonne", sub:"Restmüll"},
  Biotonne:{top:"Braune Tonne", sub:"Biotonne"},
  Wertstofftonne:{top:"Gelbe Tonne", sub:"Wertstofftonne"},
  Papiertonne:{top:"Blaue Tonne", sub:"Papier"},
  Weihnachtsbaum:{top:"Weihnachtsbaum", sub:"Sonderabfuhr"},
  Sperrmüll:{top:"Sperrmüll", sub:"Sonderabfuhr"}
};
const COLORS={Restmüll:"#111827",Biotonne:"#92400e",Wertstofftonne:"#ca8a04",Papiertonne:"#1e40af",Weihnachtsbaum:"#065f46",Sperrmüll:"#7c3aed"};
const ORDER=["Restmüll","Biotonne","Wertstofftonne","Papiertonne","Sperrmüll","Weihnachtsbaum"];

function binSVG(color){
  return `
    <svg width="30" height="30" viewBox="0 0 28 28" aria-hidden="true">
      <rect x="7" y="9" width="14" height="14" rx="3" fill="${color}" />
      <rect x="6" y="7" width="16" height="3" rx="1.5" fill="${color}" />
      <rect x="10.5" y="5" width="7" height="2" rx="1" fill="${color}" />
    </svg>`;
}

// (Restlicher Code bleibt identisch)
</script>
</body>
</html>
